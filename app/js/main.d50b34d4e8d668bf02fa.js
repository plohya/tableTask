(()=>{"use strict";new class{constructor(t){this.array=t,this.amount=10,this.page=1,this.sortInformation={title:"",desc:-1}}init(){this.$table=document.createElement("div"),this.$table.classList.add("tableArea"),this.$buttonsList=document.createElement("div"),this.$buttonsList.classList.add("btnList"),this.drawDynamicButtons(),this.drawPagButtons(),this.drawTitles(),this.drawCells(this.page)}drawDynamicButtons(){this.$buttonsList.innerHTML+="<div class='dynamic-list'><div class='text'>Elements on page:</div><button class='dynamicListItem active'>10</button><button class='dynamicListItem'>20</button><button class='dynamicListItem'>50</button><button class='dynamicListItem'>ALL</button></div>",document.querySelector("body").appendChild(this.$buttonsList),document.querySelectorAll(".dynamicListItem").forEach((t=>t.addEventListener("click",(t=>this.dynamicView(t.target.textContent,t.target)))))}drawPagButtons(){document.querySelector(".pagBtnsList")&&document.querySelector(".pagBtnsList").remove();const t=Math.ceil(this.array.length/this.amount),e=document.createElement("div");e.classList.add("pagBtnsList"),e.innerHTML+="<div class='text'>Pagination buttons:</div>";for(let i=0;i<t;i++)e.innerHTML+=`<button class='pagListItem'>${i+1}</button>`;this.$buttonsList.appendChild(e),document.querySelectorAll(".pagListItem").forEach((t=>t.addEventListener("click",(t=>this.drawCells(t.target.textContent)))))}drawTitles(){let t=document.createElement("div");t.classList.add("titlesArea");const e=this.array.map((t=>Object.keys(t)));this.titlesArray=[];for(let t=0;t<e.length;t++)e[t].forEach((t=>{this.titlesArray.includes(t)||this.titlesArray.push(t)}));t.innerHTML=this.titlesArray.map((t=>`<div class='tableTopElement'>${t}<div class='sortButton'>></div></div>`)).join(" "),this.$table.appendChild(t),document.querySelector("body").appendChild(this.$table),document.querySelectorAll(".sortButton").forEach((t=>t.addEventListener("click",(t=>this.arrowBtnClick(t.target.parentElement.firstChild.textContent,t.target)))))}drawCells(t){document.querySelectorAll(".pagListItem")&&(document.querySelectorAll(".pagListItem").forEach((t=>this.checkBtn(t))),document.querySelectorAll(".pagListItem")[t-1].classList.add("active")),this.clearCells();let e=document.createElement("div");e.classList.add("cellsArea");const i=(t-1)*this.amount,a=i+this.amount;this.array.slice(i,a).forEach((t=>{let i=document.createElement("div");for(let e=0;e<this.titlesArray.length;e++)void 0===t[this.titlesArray[e]]?i.innerHTML+="<div class='tableElement'>~</div>":i.innerHTML+=`<div class='tableElement'>${t[this.titlesArray[e]]}</div>`;e.appendChild(i)})),this.$table.appendChild(e)}arrowBtnClick(t,e){document.querySelectorAll(".backSortButton")&&document.querySelectorAll(".backSortButton").forEach((t=>this.checkBtn(t))),-1===this.sortInformation.desc&&this.sortInformation.title===t?(this.sortTable(t,"ascending"),this.sortInformation.desc=1,e.classList.remove("backSortButton")):(this.sortTable(t,"descending"),this.sortInformation.desc=-1,e.classList.add("backSortButton")),this.sortInformation.title=t,this.drawPagButtons(),this.drawCells(this.page)}dynamicView(t,e){document.querySelectorAll(".active")&&document.querySelectorAll(".active").forEach((t=>this.checkBtn(t))),e.classList.add("active"),this.amount="ALL"===t?this.array.length:parseInt(t),this.drawPagButtons(),this.drawCells(this.page)}sortTable(t,e){"ascending"===e?this.array.sort((function(e,i){return e[t]<i[t]?1:e[t]>i[t]?-1:0})):"descending"===e&&this.array.sort((function(e,i){return i[t]<e[t]?1:i[t]>e[t]?-1:0})),this.drawCells(this.page)}checkBtn(t){t.classList.contains("active")?t.classList.remove("active"):t.classList.contains("backSortButton")&&t.classList.remove("backSortButton")}clearCells(){document.querySelector(".cellsArea")&&document.querySelector(".cellsArea").remove()}}([{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"white",type:"cheezee",registration:"2001",capacity:16},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"white",type:"cheezee",registration:"2001",capacity:16},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"white",type:"cheezee",registration:"2001",capacity:16},{color:"red",type:"boombox",registration:"2008",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"duster",registration:"2010",capacity:5},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"orange",type:"boombox",registration:"2015",capacity:50},{color:"white",type:"cheezee",registration:"2001",capacity:16},{color:"red",type:"boombox",registration:"2008",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"red",type:"boombox",registration:"2008",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7},{color:"white",type:"cheezee",registration:"2001",capacity:16},{color:"red",type:"boombox",registration:"2008",capacity:50},{color:"purple",type:"minivan",registration:"2014",capacity:7}]).init()})();